// dragon.js 0.0.1-alpha
// Build Date: 2012-11-17

// (c) 2012 Kristofer Joseph.
// This may be freely distributed under the MIT license.
(function(e){"use strict";e.Event.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},e.fn.dragon=function(t){var n=this,r,i,s=e.extend({target:"body",setData:"Text",effectAllowed:"copyMove",start:function(e,t){return console.log("Start",e,t),this},drag:function(e,t){return console.log("Drag",e,t),this},enter:function(e,t){return console.log("Enter",e,t),this},leave:function(e,t){return console.log("Leave",e,t),this},drop:function(e,t){return console.log("Drop",e,t),this},end:function(e,t){return console.log("End",e,t),this}},t);return n.start=s.start,n.drag=s.drag,n.enter=s.enter,n.leave=s.leave,n.drop=s.drop,n.end=s.end,e(s.target).on("dragenter",function(e){e.stop(),n.enter.call(n,e,n)}).on("dragleave",function(e){e.stop(),n.leave.call(n,e,n)}).on("drop",function(e){e.stop(),n.drop.call(n,e,n)}),n.mousedown(function(e){e.stopPropagation(),this.draggable=!0,n.offsetX=e.offsetX,n.offsetY=e.offsetY}).on("dragstart",function(e){e.stopPropagation(),e.dataTransfer.setData(s.setData,this.id),e.dataTransfer.effectAllowed=s.effectAllowed,n.start.call(n,e,n)}).on("drag",function(e){n.drag.call(n,e,n)}).on("dragend",function(e){e.stopPropagation(),this.draggable=!1,n.end.call(n,e,n)}),n}})(jQuery);